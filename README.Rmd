Here is a cleaned-up and properly formatted version of your `README.md` designed for `github_document` rendering:

````markdown
---
output: github_document
---

# epiworldRcalibrate

> BiLSTM-based parameter calibration tools for SIR models built on the epiworldR framework.

---

## ğŸ“¦ Overview

`epiworldRcalibrate` provides fast, deep-learning-based calibration of SIR model parameters using a BiLSTM model implemented in **PyTorch** and accessed from R via the `reticulate` package.  
It enables users to load a trained neural network once and make rapid predictions of epidemiological parameters such as transmission rate, contact rate, and basic reproduction number (`R0`) â€” especially useful in large-scale or repetitive simulations.

---

## ğŸ”§ Features

- âœ… Persistent BiLSTM model loading via `reticulate` and PyTorch  
- âœ… Predicts:
  - `ptran` â€” transmission probability  
  - `crate` â€” contact rate  
  - `R0` â€” basic reproduction number  
- âœ… One-time model initialization (keeps model in memory)  
- âœ… Fast predictions for repeated simulation workflows  
- âœ… Cleanup function to release resources  
- âœ… Well-suited for ABC calibration and forward simulation studies  

---

## ğŸ“ Installation

This package is not yet on CRAN. To install it from GitHub:

```r
# install.packages("devtools")
devtools::install_github("sima-njf/epiworldRcalibrate")
````

---

## ğŸš€ Quick Start

```r
library(epiworldRcalibrate)
library(reticulate)

# Step 1: Load the model (once per session)
init_bilstm_model("~/Desktop/epiworldRcalibrate_fixed/epiworldRcalibrate/inst/models")

# Step 2: Generate a sample incidence time series
set.seed(42)
incidence <- abs(rnorm(61, mean = 100, sd = 20))

# Step 3: Predict parameters
params <- predict_sir_bilstm(incidence, n = 5000, recov = 0.1)

print(params)
#> $ptran
#> [1] 0.01234
#> $crate
#> [1] 3.456
#> $R0
#> [1] 2.345
```

---

## ğŸ“‚ Model File Requirements

To use `init_bilstm_model()`, your model directory must contain:

* `model4_bilstm.pt` â€” trained PyTorch model
* `scaler_additional.pkl` â€” scaler for covariates (e.g., `n`, `recov`)
* `scaler_targets.pkl` â€” scaler for predicted parameters
* `scaler_incidence.pkl` â€” scaler for time series inputs

---

## ğŸ§¼ Clean Up

To free memory at the end of your session:

```r
cleanup_bilstm_model()
```

---

## ğŸ“– Vignette

See `vignettes/` folder or run:

```r
browseVignettes("epiworldRcalibrate")
```

---

## ğŸ”— Project Links

* ğŸ“ GitHub Repo: [https://github.com/sima-njf/epiworldRcalibrate](https://github.com/sima-njf/epiworldRcalibrate)

---

## ğŸ§ª Citation

If you use this package in your work, please cite the accompanying paper or mention the GitHub repo.

---

````

You can paste this directly into your `README.Rmd` file and render it with:

```r
devtools::build_readme()
````


